#### 设计模式

**设计模式的原则**：

①单一职责原则 ②开放-封闭原则 ③里氏代换原则 ④依赖倒转原则 

⑤迪迷特原则（最少知识原则）⑥合成/聚合复用原则

**几种模式**

创建型模式：用于描述“怎样创建对象”，它的主要特点是“将对象的创建与使用分离”。
结构型模式：用于描述如何将类或对象按某种布局组成更大的结构。
行为型模式：用于描述类或对象之间怎样相互协作共同完成单个对象都无法单独完成的任务，以及怎样分配职责。



**几种关系（关系强弱：泛化=实现>组合>聚合>关联>依赖）**

①泛化关系

​	即继承关系，子类特化父类的特征与行为。

②实现关系

​	指类实现接口中的所有特征与行为。

③关联关系

​	拥有的关系，一个类知道另一个类的属性和方法。关联关系可以是双向的，也可以是单向的。

```c++
class Hundred{
    private:
    Wife* wife;
    Hundred(){}
    void register(Wife* w){
        wife = w;
    }
};
class Wife{
    private:
    Hundred* hundred;
    void register(Hundred* h){
        hundred = h;
    }
}
```

这个例子比较直观，结婚注册，夫妻双方就绑定了。

④聚合关系

​	整体和部分的生命周期不一样，且整体和部分可以分开，比如说一台电脑，CPU、内存拆下来换到别的电脑上还是可以用的，电脑坏了，CPU、内存不一定会坏。

```c++
class PC{
    private:
    CPU* p_cpu;
    Mem* p_mem;
    Disk* p_disk;
    PC(CPU* cpu,Mem* mem,Disk* disk):p_cpu(cpu),p_mem(mem),p_disk(disk){}
};
```

这个例子中CPU、Mem、Disk指针成员是接受了外部传入的指针去初始化，实际上这几个指针指向的对象并不属于PC类，即便PC类对象析构，这几个指针都可能没有被回收。

⑤组合关系

​	整体和部分的生命周期一样，比如说身体和精神，当一个人消亡了，他的精神就会随着身体的死亡而消失。

```c++
class Human{
    private:
    Soul *soul;
    Human(){
        soul = new Soul();
    }
    ~Human(){
        delete soul;
    }
};
```

例子中灵魂随着人类的诞生而产生，随着人类的死亡而消失。

⑥依赖关系

​	一个类需要另一个类的协助（最好不要双向依赖），即局部变量、函数参数使用了另一个类的对象或者调用了另一个类的静态方法，都属于依赖关系。

